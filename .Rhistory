)) +
geom_tile() +
scale_fill_continuous(
na.value = '#EAEAEA',
low = "#FFFFFF",
high = "#DE0000",
name = "Co-identification"
) +
scale_x_date(breaks = my_breaks, expand = c(0, 0)) +
ggtitle('Flash Drought identification aggremment among 7 methods') +
xlab('Date') +
ylab('Station') +
theme(axis.text.x = element_text(angle = 90),
legend.position = 'bottom',
)
p_all
df_long
df_long <-
pivot_longer(df,
cols = 2:8,
names_to = 'method',
values_to = 'fd')
runApp()
totals
plot_ly(
totals,
type = 'scatter',
mode = 'line+marker',
colors = rev(user_palette3)
) %>%
add_trace(
x = ~ Station,
y = ~ `Multi-criteria`/Duration,
name = 'Multi-criteria',
color = user_palette3[9]
)
plot_ly(
totals,
type = 'scatter',
mode = 'line+marker',
colors = rev(user_palette3)
) %>%
add_trace(
x = ~ Station,
y = ~ `Multi-criteria`/Duration,
name = 'Multi-criteria',
color = user_palette3[9]
) %>%
# add_trace(
#   x = ~ Station,
#   y = ~ `Mod. Ford and Labosier`,
#   name = 'Mod. Ford and Labosier',
#   color = user_palette[8]
# ) %>%
# add_trace(
#   x = ~ Station,
#   y = ~ `Alencar et al.`,
#   name = 'Alencar et al.',
#   color = user_palette3[7]
# ) %>%
add_trace(
x = ~ Station,
y = ~ `Osman et al.`,
name = 'Osman et al.',
color = user_palette3[6]
) %>%
add_trace(
x = ~ Station,
y = ~ `Christian et al.`,
name = 'Christian et al.',
color = user_palette3[5]
) %>%
add_trace(
x = ~ Station,
y = ~ `Noguera et al.`,
name = 'Noguera et al.',
color = user_palette3[4]
) %>%
add_trace(
x = ~ Station,
y = ~ `Pendergrass et al.`,
name = 'Pendergrass et al.',
color = user_palette3[3]
) %>%
add_trace(
x = ~ Station,
y = ~ `Ford and Labosier`,
name = 'Ford and Labosier',
color = user_palette3[2]
) %>%
# add_trace(
#   x = ~ Station,
#   y = ~ `Mo and Lettenmeier`,
#   name = 'Mo and Lettenmeier',
#   color = user_palette[1]
# ) %>%
layout(
title = 'Number of events by each method at each station',
yaxis = list(title = 'Number of events'),
xaxis = list(title = 'Station'),
# barmode = 'stack',
plot_bgcolor = '#F0F0F0'
)
runApp()
plot_ly(
totals,
type = 'scatter',
mode = 'line+marker',
colors = rev(user_palette3)
) %>%
add_trace(
x = ~ Station,
y = ~ `Multi-criteria`/Duration,
name = 'Multi-criteria',
color = user_palette3[9]
) %>%
# add_trace(
#   x = ~ Station,
#   y = ~ `Mod. Ford and Labosier`,
#   name = 'Mod. Ford and Labosier',
#   color = user_palette[8]
# ) %>%
# add_trace(
#   x = ~ Station,
#   y = ~ `Alencar et al.`,
#   name = 'Alencar et al.',
#   color = user_palette3[7]
# ) %>%
add_trace(
x = ~ Station,
y = ~ `Osman et al.`/Duration,
name = 'Osman et al.',
color = user_palette3[6]
) %>%
add_trace(
x = ~ Station,
y = ~ `Christian et al.`/Duration,
name = 'Christian et al.',
color = user_palette3[5]
) %>%
add_trace(
x = ~ Station,
y = ~ `Noguera et al.`/Duration,
name = 'Noguera et al.',
color = user_palette3[4]
) %>%
add_trace(
x = ~ Station,
y = ~ `Pendergrass et al.`/Duration,
name = 'Pendergrass et al.',
color = user_palette3[3]
) %>%
add_trace(
x = ~ Station,
y = ~ `Ford and Labosier`/Duration,
name = 'Ford and Labosier',
color = user_palette3[2]
) %>%
# add_trace(
#   x = ~ Station,
#   y = ~ `Mo and Lettenmeier`,
#   name = 'Mo and Lettenmeier',
#   color = user_palette[1]
# ) %>%
layout(
title = 'Number of events by each method at each station',
yaxis = list(title = 'Number of events'),
xaxis = list(title = 'Station'),
# barmode = 'stack',
plot_bgcolor = '#F0F0F0'
)
plot_ly(
totals,
type = 'scatter',
mode = 'line+marker',
colors = rev(user_palette3)
) %>%
add_trace(
x = ~ Station,
y = ~ `Multi-criteria`/Duration,
name = 'Multi-criteria',
color = user_palette3[9]
) %>%
# add_trace(
#   x = ~ Station,
#   y = ~ `Mod. Ford and Labosier`,
#   name = 'Mod. Ford and Labosier',
#   color = user_palette[8]
# ) %>%
# add_trace(
#   x = ~ Station,
#   y = ~ `Alencar et al.`,
#   name = 'Alencar et al.',
#   color = user_palette3[7]
# ) %>%
add_trace(
x = ~ Station,
y = ~ `Osman et al.`/Duration,
name = 'Osman et al.',
color = user_palette3[6]
) %>%
add_trace(
x = ~ Station,
y = ~ `Christian et al.`/Duration,
name = 'Christian et al.',
color = user_palette3[5]
) %>%
add_trace(
x = ~ Station,
y = ~ `Noguera et al.`/Duration,
name = 'Noguera et al.',
color = user_palette3[4]
) %>%
add_trace(
x = ~ Station,
y = ~ `Pendergrass et al.`/Duration,
name = 'Pendergrass et al.',
color = user_palette3[3]
) %>%
add_trace(
x = ~ Station,
y = ~ `Ford and Labosier`/Duration,
name = 'Ford and Labosier',
color = user_palette3[2]
) %>%
# add_trace(
#   x = ~ Station,
#   y = ~ `Mo and Lettenmeier`,
#   name = 'Mo and Lettenmeier',
#   color = user_palette[1]
# ) %>%
layout(
title = 'Number of events by each method at each station',
yaxis = list(title = 'Number of events'),
xaxis = list(title = 'Station',angle = 90),
# barmode = 'stack',
plot_bgcolor = '#F0F0F0'
)
runApp()
runApp()
runApp()
all_events_summary
summary_events <-
ggplot(all_events_summary[all_events_summary$method != 'Alencar et al.',],
aes(x = reorder(station,-latitude), y = method, fill = event_year)) +
geom_tile() +
scale_fill_continuous(
na.value = '#FFFFFF',
low = '#FDD49E',
high = '#7F0000',
name = "Events per year"
) +
xlab('Station') +
ggtitle('Number of events per year by method and station') +
theme(
axis.text.x = element_text(angle = 90),
axis.title.y = element_blank(),
panel.background = element_rect(fill = "white")
)
summary_events
summary_events <-
ggplot(all_events_summary[all_events_summary$method != c('Alencar et al.', 'Mo and Lettenmeier', 'Mod. Ford and Labosier'),],
aes(x = reorder(station,-latitude), y = method, fill = event_year)) +
geom_tile() +
scale_fill_continuous(
na.value = '#FFFFFF',
low = '#FDD49E',
high = '#7F0000',
name = "Events per year"
) +
xlab('Station') +
ggtitle('Number of events per year by method and station') +
theme(
axis.text.x = element_text(angle = 90),
axis.title.y = element_blank(),
panel.background = element_rect(fill = "white")
)
summary_events <-
ggplot(all_events_summary[all_events_summary$method %notin% c('Alencar et al.', 'Mo and Lettenmeier', 'Mod. Ford and Labosier'),],
aes(x = reorder(station,-latitude), y = method, fill = event_year)) +
geom_tile() +
scale_fill_continuous(
na.value = '#FFFFFF',
low = '#FDD49E',
high = '#7F0000',
name = "Events per year"
) +
xlab('Station') +
ggtitle('Number of events per year by method and station') +
theme(
axis.text.x = element_text(angle = 90),
axis.title.y = element_blank(),
panel.background = element_rect(fill = "white")
)
summary_events
runApp()
summary_events <-
ggplot(all_events_summary[all_events_summary$method %notin% c('Alencar et al.', 'Mo and Lettenmeier', 'Mod. Ford and Labosier'),],
aes(x = reorder(station,-latitude), y = reorder(method, c(2,1,6,4,5,3)), fill = event_year)) +
geom_tile() +
scale_fill_continuous(
na.value = '#FFFFFF',
low = '#FDD49E',
high = '#7F0000',
name = "Events per year"
) +
xlab('Station') +
ggtitle('Number of events per year by method and station') +
theme(
axis.text.x = element_text(angle = 90),
axis.title.y = element_blank(),
panel.background = element_rect(fill = "white")
)
summary_events
summary_events
runApp()
user_palette2
summary_events <-
ggplot(all_events_summary[all_events_summary$method %notin% c('Alencar et al.', 'Mo and Lettenmeier', 'Mod. Ford and Labosier'),],
aes(x = reorder(station,-latitude), y = method, fill = event_year)) +
geom_tile() +
scale_fill_continuous(
na.value = '#FFFFFF',
# low = '#FDD49E',
# high = '#7F0000',
low = '#7F3B08',
high = '#2D004B',
name = "Events per year"
) +
xlab('Station') +
ggtitle('Number of events per year by method and station') +
theme(
axis.text.x = element_text(angle = 90),
axis.title.y = element_blank(),
panel.background = element_rect(fill = "white")
)
summary_events
user_palette2
summary_events <-
ggplot(all_events_summary[all_events_summary$method %notin% c('Alencar et al.', 'Mo and Lettenmeier', 'Mod. Ford and Labosier'),],
aes(x = reorder(station,-latitude), y = method, fill = event_year)) +
geom_tile() +
scale_fill_continuous(
na.value = '#FFFFFF',
# low = '#FDD49E',
# high = '#7F0000',
low = '#F7F7F7',
high = '#2D004B',
name = "Events per year"
) +
xlab('Station') +
ggtitle('Number of events per year by method and station') +
theme(
axis.text.x = element_text(angle = 90),
axis.title.y = element_blank(),
panel.background = element_rect(fill = "white")
)
summary_events
na.value = '#FFFFFF',
# low = '#FDD49E',
# high = '#7F0000',
low = '#FEE0B6
summary_events <-
ggplot(all_events_summary[all_events_summary$method %notin% c('Alencar et al.', 'Mo and Lettenmeier', 'Mod. Ford and Labosier'),],
aes(x = reorder(station,-latitude), y = method, fill = event_year)) +
geom_tile() +
scale_fill_continuous(
na.value = '#FFFFFF',
# low = '#FDD49E',
# high = '#7F0000',
low = '#FEE0B6',
high = '#7F3B08',
name = "Events per year"
) +
xlab('Station') +
ggtitle('Number of events per year by method and station') +
theme(
axis.text.x = element_text(angle = 90),
axis.title.y = element_blank(),
panel.background = element_rect(fill = "white")
)
summary_events <-
ggplot(all_events_summary[all_events_summary$method %notin% c('Alencar et al.', 'Mo and Lettenmeier', 'Mod. Ford and Labosier'),],
aes(x = reorder(station,-latitude), y = method, fill = event_year)) +
geom_tile() +
scale_fill_continuous(
na.value = '#FFFFFF',
# low = '#FDD49E',
# high = '#7F0000',
low = '#FEE0B6',
high = '#7F3B08',
name = "Events per year"
) +
xlab('Station') +
ggtitle('Number of events per year by method and station') +
theme(
axis.text.x = element_text(angle = 90),
axis.title.y = element_blank(),
panel.background = element_rect(fill = "white")
)
summary_events
runApp()
user_palette3
summary_events <-
ggplot(all_events_summary[all_events_summary$method %notin% c('Alencar et al.', 'Mo and Lettenmeier', 'Mod. Ford and Labosier'),],
aes(x = reorder(station,-latitude), y = method, fill = event_year)) +
geom_tile() +
scale_fill_continuous(
na.value = '#FFFFFF',
# low = '#FDD49E',
# high = '#7F0000',
low = '#C3150E',
high = '#FDCF99',
name = "Events per year"
) +
xlab('Station') +
ggtitle('Number of events per year by method and station') +
theme(
axis.text.x = element_text(angle = 90),
axis.title.y = element_blank(),
panel.background = element_rect(fill = "white")
)
summary_events
user_palette3
_
summary_events <-
ggplot(all_events_summary[all_events_summary$method %notin% c('Alencar et al.', 'Mo and Lettenmeier', 'Mod. Ford and Labosier'),],
aes(x = reorder(station,-latitude), y = method, fill = event_year)) +
geom_tile() +
scale_fill_continuous(
na.value = '#FFFFFF',
# low = '#FDD49E',
# high = '#7F0000',
low = '#FDCF99',
high = '#C3150E',
name = "Events per year"
) +
xlab('Station') +
ggtitle('Number of events per year by method and station') +
theme(
axis.text.x = element_text(angle = 90),
axis.title.y = element_blank(),
panel.background = element_rect(fill = "white")
)
summary_events
user_palette3
summary_events <-
ggplot(all_events_summary[all_events_summary$method %notin% c('Alencar et al.', 'Mo and Lettenmeier', 'Mod. Ford and Labosier'),],
aes(x = reorder(station,-latitude), y = method, fill = event_year)) +
geom_tile() +
scale_fill_continuous(
na.value = '#FFFFFF',
# low = '#FDD49E',
# high = '#7F0000',
low = '#7F0000',
high = '#C3150E',
name = "Events per year"
) +
xlab('Station') +
ggtitle('Number of events per year by method and station') +
theme(
axis.text.x = element_text(angle = 90),
axis.title.y = element_blank(),
panel.background = element_rect(fill = "white")
)
summary_events
user_palette3
summary_events <-
ggplot(all_events_summary[all_events_summary$method %notin% c('Alencar et al.', 'Mo and Lettenmeier', 'Mod. Ford and Labosier'),],
aes(x = reorder(station,-latitude), y = method, fill = event_year)) +
geom_tile() +
scale_fill_continuous(
na.value = '#FFFFFF',
# low = '#FDD49E',
# high = '#7F0000',
low = '#FDD49E',
high = '#C3150E',
name = "Events per year"
) +
xlab('Station') +
ggtitle('Number of events per year by method and station') +
theme(
axis.text.x = element_text(angle = 90),
axis.title.y = element_blank(),
panel.background = element_rect(fill = "white")
)
summary_events
user_palette3
summary_events <-
ggplot(all_events_summary[all_events_summary$method %notin% c('Alencar et al.', 'Mo and Lettenmeier', 'Mod. Ford and Labosier'),],
aes(x = reorder(station,-latitude), y = method, fill = event_year)) +
geom_tile() +
scale_fill_continuous(
na.value = '#FFFFFF',
# low = '#FDD49E',
# high = '#7F0000',
low = '#FDD49E',
high = '#A40000',
name = "Events per year"
) +
xlab('Station') +
ggtitle('Number of events per year by method and station') +
theme(
axis.text.x = element_text(angle = 90),
axis.title.y = element_blank(),
panel.background = element_rect(fill = "white")
)
summary_events
runApp()
runApp()
runApp()
runApp()
